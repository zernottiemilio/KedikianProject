<div class="summary-selector-container" *ngIf="hasItems">
  <!-- Checkbox Seleccionar Todo -->
  <div class="select-all-section" @fadeIn>
    <label class="checkbox-wrapper">
      <input
        type="checkbox"
        [checked]="allSelected"
        (change)="toggleSelectAll()"
        class="checkbox-input">
      <span class="checkbox-label">
        <i class="fas fa-check-square" *ngIf="allSelected"></i>
        <i class="far fa-square" *ngIf="!allSelected"></i>
        Seleccionar todo
      </span>
    </label>
  </div>

  <!-- Recuadro del Totalizador -->
  <div class="summary-box" [class.has-selection]="hasSelection" @slideIn>
    <div class="summary-header">
      <i class="fas fa-calculator summary-icon"></i>
      <h3 class="summary-title">{{ config.label }}</h3>
    </div>

    <div class="summary-content">
      <div class="total-value" @countUp>
        {{ formattedTotal }}
      </div>
      <div class="selected-info">
        <i class="fas fa-check-circle"></i>
        <span>{{ selectedCount }} registro{{ selectedCount !== 1 ? 's' : '' }} seleccionado{{ selectedCount !== 1 ? 's' : '' }}</span>
      </div>
    </div>

    <div class="summary-actions" *ngIf="hasSelection">
      <button
        class="clear-btn"
        (click)="onClearSelection()"
        title="Limpiar selección">
        <i class="fas fa-times-circle"></i>
        Limpiar selección
      </button>
    </div>
  </div>

  <!-- Mensaje cuando no hay selección -->
  <div class="no-selection-message" *ngIf="!hasSelection">
    <i class="fas fa-info-circle"></i>
    <p>Seleccione registros de la tabla para ver el total</p>
  </div>
</div>

<!-- Mensaje cuando no hay items -->
<div class="no-items-message" *ngIf="!hasItems">
  <i class="fas fa-inbox"></i>
  <p>No hay registros para sumar</p>
</div>
